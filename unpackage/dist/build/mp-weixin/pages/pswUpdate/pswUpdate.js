(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pswUpdate/pswUpdate"],{"1bbf":function(t,e,n){"use strict";n.r(e);var o=n("819a"),i=n("f398");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("3dfa");var a,c=n("f0c5"),d=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"6588aa70",null,!1,o["a"],a);e["default"]=d.exports},"3dfa":function(t,e,n){"use strict";var o=n("c014"),i=n.n(o);i.a},"4d62":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=new RegExp(/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{6,20}$/),o={name:"sy",props:{},data:function(){return{barheight:"",scrollerHeight:"",title:"修改登录密码",oldPwd:"",newPwd:"",qrPwd:"",openId:"",userId:""}},onLoad:function(){this.$hideLoading()},mounted:function(){this.barheight=this.$store.state.barHeight;var e=this;this.userId=t.getStorageSync("userId"),this.openId=t.getStorageSync("openId"),e.getHeight()},methods:{getHeight:function(){var e=this,n=t.createSelectorQuery().in(this);n.select("#wrap").boundingClientRect((function(t){e.scrollerHeight=t.height})).exec(),e.$nextTick((function(){n.select("#header").boundingClientRect((function(t){e.scrollerHeight=e.scrollerHeight-t.height+"px"})).exec()}))},back:function(){t.navigateBack()},subForm:function(){if(""==this.oldPwd||null==this.oldPwd)return this.$toast("请输入原密码"),!1;if(""==this.newPwd||null==this.newPwd)return this.$toast("请输入新密码"),!1;if(""==this.qrPwd||null==this.qrPwd)return this.$toast("请输入确认密码"),!1;if(!n.test(this.newPwd))return this.$toast("请输入正确的密码格式"),!1;if(this.newPwd!=this.qrPwd)return this.$toast("确认密码和新密码不一致"),!1;var e=this;t.showLoading(),this.$api.updatePwd({"cmd.USERID":e.userId,"cmd.OLDPWD":e.oldPwd,"cmd.NEWPWD":e.newPwd}).then((function(n){t.hideLoading(),"0"==n[0].OCODE?(e.$toast(n[0].ORES),e.$api.jbOpenid({"cmd.OPENID":e.openId,"cmd.USERID":e.userId}).then((function(n){console.log(n),"1"==n[0].TIPS?(t.removeStorageSync("sessionId"),t.removeStorageSync("nickName"),t.removeStorageSync("avatarUrl"),t.removeStorageSync("openId"),t.removeStorageSync("cardBool"),t.setStorageSync("passWord",""),setTimeout((function(){t.reLaunch({url:"/pages/login/login"})}),1e3)):e.$toast(n[0].SUCESS)})).catch((function(t){console.log(t)}))):e.$toast(n[0].ORES),console.log(n)})).catch((function(e){t.hideLoading()}))}}};e.default=o}).call(this,n("543d")["default"])},"819a":function(t,e,n){"use strict";var o={uniHeader:function(){return n.e("components/uni-header/uni-header").then(n.bind(null,"681c"))}},i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}))},"819d":function(t,e,n){"use strict";(function(t){n("4c46");o(n("66fd"));var e=o(n("1bbf"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},c014:function(t,e,n){},f398:function(t,e,n){"use strict";n.r(e);var o=n("4d62"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a}},[["819d","common/runtime","common/vendor"]]]);