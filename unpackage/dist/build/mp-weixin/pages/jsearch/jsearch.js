(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/jsearch/jsearch"],{2503:function(e,t,n){"use strict";var i=n("b36c"),a=n.n(i);a.a},"31b9":function(e,t,n){"use strict";var i={uniHeader:function(){return n.e("components/uni-header/uni-header").then(n.bind(null,"681c"))}},a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}))},"4b27":function(e,t,n){"use strict";(function(e){n("4c46");i(n("66fd"));var t=i(n("fe3e"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"76c6":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{1}[0-9Xx]\d{1}[0-9Xx]$/,i=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{1}[0-9Xx]\d{1}[0-9Xx][1-7][1-4]$/,a={data:function(){return{name:"",idcode:"",startDate:"",typeArray:[],typeIndex:"",qhztype:[],cityBool:!1,xianBool:!1,xiangBool:!1,cunBool:!1,cityName:"",xianName:"",cunName:"",xiangName:"",title:"搜索",scrollerHeight:"",hfcArray:[],hfcIndex:"",qtotyppe:[],problemArray:["是","否"],pjArray:["十分满意","满意","基本满意","不满意"],pjValue:["3","2","1","0"],pjIndex:"",problemIndex:"",isproblemarr:["1","2"],btnHeight:"",page:{page:1,pagesize:1,state:""},pagesource:"",areaCode:"",cityNameList:[],cityCodeList:[],cityIndex:"",countyNameList:[],countyCodeList:[],countyIndex:"",villagesNameList:[],villagesCodeList:[],villagesIndex:"",cunNameList:[],cunCodeList:[],cunIndex:"",endDate:""}},onLoad:function(e){this.getAreaCode("360000000000"),this.pagesource=e.pagesource,this.getHfcType(),this.getHeight(),this.getNums();var t=new Date;this.endDate=t.getFullYear()},methods:{getNums:function(){var t=this;e.showLoading(),this.$api.tongji().then((function(n){console.log(n),e.hideLoading();var i=n.LIST[0];t.level=i.AREA_LEVEL,"2"==t.level&&(t.cityName=i.CITY_NAME,t.cityBool=!0,t.areaCode=i.ROOT_AREA_CODE,t.getCountyAreaCode(t.areaCode)),"3"==t.level&&(t.cityName=i.CITY_NAME,t.xianName=i.COUNTT_NAME,t.cityBool=!0,t.xianBool=!0,t.areaCode=i.ROOT_AREA_CODE,t.getVillagesAreaCode(t.areaCode)),"4"==t.level&&(t.cityName=i.CITY_NAME,t.xianName=i.COUNTT_NAME,t.xiangName=i.TOWN_NAME,t.cityBool=!0,t.xianBool=!0,t.xiangBool=!0,t.areaCode=i.ROOT_AREA_CODE,t.getCunAreaCode(t.areaCode)),"5"==t.level&&(t.cityName=i.CITY_NAME,t.xianName=i.COUNTT_NAME,t.xiangName=i.TOWN_NAME,t.cunName=i.VILLAGE_NAME,t.cityBool=!0,t.xianBool=!0,t.xiangBool=!0,t.cunBool=!0,t.areaCode=i.ROOT_AREA_CODE)})).catch((function(e){}))},getAreaCode:function(e){var t=this;this.$api.getAreaCode({areaCode:e}).then((function(e){e.postObj.map((function(e){t.cityNameList.push(e.areaName),t.cityCodeList.push(e.areaCode)}))})).catch((function(e){console.log(e)}))},getCountyAreaCode:function(e){var t=this;this.$api.getChildAreaCode({parentId:e}).then((function(e){console.log(e),t.countyNameList=[],t.countyCodeList=[],e.map((function(e){t.countyNameList.push(e.areaName),t.countyCodeList.push(e.areaCode)})),t.countyIndex="",t.villagesIndex="",t.cunIndex=""})).catch((function(e){console.log(e)}))},getVillagesAreaCode:function(e){var t=this;this.$api.getChildAreaCode({parentId:e}).then((function(e){t.villagesNameList=[],t.villagesCodeList=[],e.map((function(e){t.villagesNameList.push(e.areaName),t.villagesCodeList.push(e.areaCode)})),t.villagesIndex="",t.cunIndex=""})).catch((function(e){console.log(e)}))},getCunAreaCode:function(e){var t=this;this.$api.getChildAreaCode({parentId:e}).then((function(e){console.log(e),t.cunNameList=[],t.cunCodeList=[],e.map((function(e){t.cunNameList.push(e.areaName),t.cunCodeList.push(e.areaCode)})),t.cunIndex=""})).catch((function(e){console.log(e)}))},back:function(){e.navigateBack()},getHeight:function(){var t=this,n=e.createSelectorQuery().in(this);n.select("#wrap").boundingClientRect((function(e){t.scrollerHeight=e.height})).exec(),t.$nextTick((function(){n.select("#header").boundingClientRect((function(e){t.scrollerHeight=t.scrollerHeight-e.height+"px"})).exec()})),console.log(t.scrollerHeight)},getHfcType:function(){var e=this;this.$api.getTzData(this.page).then((function(t){var n=t.SEARCH_LIST;n.length>0&&n.forEach((function(t){"CSLX"==t.DTYPE?(e.hfcArray.push(t.DICT_NAME),e.qtotyppe.push(t.DICT_VALUE)):"HZLX"==t.DTYPE&&(e.typeArray.push(t.DICT_NAME),e.qhztype.push(t.DICT_VALUE))}))})).catch((function(e){}))},cityChange:function(e){this.cityIndex=e.detail.value,this.areaCode=this.cityCodeList[this.cityIndex],this.getCountyAreaCode(this.areaCode)},countyChange:function(e){this.countyIndex=e.detail.value,this.areaCode=this.countyCodeList[this.countyIndex],this.getVillagesAreaCode(this.areaCode)},clickCounty:function(){this.$toast("请先选择市")},villagesChange:function(e){this.villagesIndex=e.detail.value,this.areaCode=this.villagesCodeList[this.villagesIndex],this.getCunAreaCode(this.areaCode)},clickVillages:function(){this.$toast("请先选择县")},cunChange:function(e){this.cunIndex=e.detail.value,this.areaCode=this.cunCodeList[this.cunIndex]},clickCun:function(){this.$toast("请先选择乡镇")},startDateChange:function(e){this.startDate=e.detail.value},typeChange:function(e){this.typeIndex=e.detail.value},typehfc:function(e){this.hfcIndex=e.detail.value},isproblem:function(e){this.problemIndex=e.detail.value},ispj:function(e){this.pjIndex=e.detail.value},onsubmit:function(){if(""!=this.idcode&&!n.test(this.idcode)&&!i.test(this.idcode))return this.$toast("身份证格式错误"),!1;e.showLoading({title:"加载中..."});var t={AREACODE:this.areaCode,QNAME:this.name,QSFZ:this.idcode,QHZTYPE:this.qhztype[this.typeIndex]||"",QTOTYPPE:this.qtotyppe[this.hfcIndex]||"",QTOYEAR:this.startDate,QISPRO:this.isproblemarr[this.problemIndex]||"",QTYPE:this.pjValue[this.pjIndex]||""};e.hideLoading(),e.$emit("changeSearch",t),e.navigateBack({delta:1})}}};t.default=a}).call(this,n("543d")["default"])},b36c:function(e,t,n){},bec8:function(e,t,n){"use strict";n.r(t);var i=n("76c6"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},fe3e:function(e,t,n){"use strict";n.r(t);var i=n("31b9"),a=n("bec8");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("2503");var c,s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"464fbaa4",null,!1,i["a"],c);t["default"]=u.exports}},[["4b27","common/runtime","common/vendor"]]]);