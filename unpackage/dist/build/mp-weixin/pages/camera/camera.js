(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/camera/camera"],{"19e7":function(t,e,a){"use strict";var n,c=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",(function(){return c})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}))},"653b":function(t,e,a){"use strict";var n=a("b6e7"),c=a.n(n);c.a},a6af:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{title:"照相机",base64:"",baidutoken:""}},methods:{takephoto:function(){var t=this,e=wx.createCameraContext();e.takePhoto({quality:"high",success:function(e){wx.getFileSystemManager().readFile({filePath:e.tempImagePath,encoding:"base64",success:function(e){console.log(e),t.base64=e.data,t.checkPhoto(e.data)}})},fail:function(){wx.showToast({title:"请重试",icon:"loading",duration:500})}})},checkPhoto:function(t){var e=this;wx.request({url:"https://aip.baidubce.com/oauth/2.0/token",data:{grant_type:"client_credentials",client_id:"U80rjW5YFvSEVT2kXTQ51LUe",client_secret:"9TLa30x2cZx2Eji4bRKiMhIkpuIKyYSN"},header:{"Content-Type":"application/json"},success:function(a){e.validPhoto(t,a.data.access_token)}})},validPhoto:function(e,a){var n=this;wx.request({url:"https://aip.baidubce.com/rest/2.0/ocr/v1/idcard?access_token="+a,method:"POST",data:{image:e,detect_risk:!0,detect_photo:!0,id_card_side:"front"},header:{"Content-Type":"application/x-www-form-urlencoded"},back:function(){t.navigateBack({delta:1})},success:function(e){console.log(e.data.words_result["姓名"].words),200==e.statusCode?(n.$toast("识别成功"),t.$emit("camera",{baseUrl:n.base64,name:e.data.words_result["姓名"].words,idCard:e.data.words_result["公民身份号码"].words}),setTimeout((function(){t.navigateBack({delta:1})}),1e3)):n.$toast("识别失败")}})}}};e.default=a}).call(this,a("543d")["default"])},b6e7:function(t,e,a){},cb45:function(t,e,a){"use strict";a.r(e);var n=a("a6af"),c=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=c.a},f6b1:function(t,e,a){"use strict";(function(t){a("4c46");n(a("66fd"));var e=n(a("fbcb"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},fbcb:function(t,e,a){"use strict";a.r(e);var n=a("19e7"),c=a("cb45");for(var o in c)"default"!==o&&function(t){a.d(e,t,(function(){return c[t]}))}(o);a("653b");var i,r=a("f0c5"),u=Object(r["a"])(c["default"],n["b"],n["c"],!1,null,"15cb736a",null,!1,n["a"],i);e["default"]=u.exports}},[["f6b1","common/runtime","common/vendor"]]]);